<!DOCTYPE html>

<html lang = "en">
    <head>
        <script src='https://d3js.org/d3.v7.min.js'></script>
    </head>

    <body>
        <script src='https://d3js.org/d3.v7.min.js'></script>

        <script>
            let randPointsCSV = "https://raw.githubusercontent.com/ayushiiamin/csvfileimp/main/data23.csv";

            // Set Dimensions
            const xSize = 600; const ySize = 600;
            const margin = 40;
            const xMax = xSize - margin*2;
            const yMax = ySize - margin*2;


            function mathTrig(data, trig1, trig2){

                if(data.includes(".csv") == true){

                    var arr1 = [];
                    var arr2 = [];

                    d3.csv(data, function(d, i){
                        if( (trig1 == "sin" && trig2 == "cos") || (trig1 == "cos" && trig2 == "sin") || (trig1 == "cosine" && trig2 == "sine") || (trig1 == "sine" && trig2 == "cosine") ){
                            arr1.push({
                                x: d.Number, y: Math.sin( 6.2 * d.Number )
                            });

                            arr2.push({
                                x: d.Number, y: Math.cos( 8.5 * d.Number)
                            });
                        }
                        // else if( (trig1 == "cos" && trig2 == "tan") || (trig1 == "tan" && trig2 == "cos") || (trig1 == "cosine" && trig2 == "tangent") || (trig1 == "tangent" && trig2 == "cosine") ){
                        //     arr1.push({
                        //         x: d.Number, y: Math.cos( 8.5 * d.Number)
                        //     });

                        //     arr2.push({
                        //         x: d.Number, y: Math.tan(9.0 * d.Number)
                        //     });
                        // }
                        // else if( (trig1 == "sin" && trig2 == "tan") || (trig1 == "tan" && trig2 == "sin") || (trig1 == "sine" && trig2 == "tangent") || (trig1 == "tangent" && trig2 == "sine") ){
                        //     arr1.push({
                        //         x: d.Number, y: Math.sin( 6.2 * d.Number )
                        //     });

                        //     arr2.push({
                        //         x: d.Number, y: Math.tan(9.0 * d.Number)
                        //     });
                        // }
                        else{
                            console.log("Only sin/cos/tan combo allowed!");
                        }
                        
                    }).then(function(data){

                        // Get the 'limits' of the data - the full extent (mins and max)
                        // so the plotted data fits perfectly
                        const xExtent = d3.extent( arr1, d=>{ 
                            return d.x 
                        } );
                        const yExtent = d3.extent( arr1, d=>{
                            return d.y 
                            } );

                        // Append SVG Object to the Page
                        const svg = d3.select("body")
                                        .append("svg")
                                        .attr('width', xSize )
                                        .attr('height', ySize )
                                        .append("g")
                                        .attr("transform","translate(" + margin + "," + margin + ")");

                        // X Axis
                        const x = d3.scaleLinear()
                                    .domain([ xExtent[0], xExtent[1] ])
                                    .range([0, xMax]);

                        // bottom
                        svg.append("g")
                            .attr("transform", "translate(0," + yMax + ")")
                            .call(d3.axisBottom(x))
                            .attr('color', 'green'); // make bottom axis green

                        // top
                        svg.append("g")
                            .call(d3.axisTop(x));

                        // Y Axis
                        const y = d3.scaleLinear()
                                    .domain([ yExtent[0], yExtent[1] ])
                                    .range([ yMax, 0]);

                        // left y axis
                        svg.append("g")
                            .call(d3.axisLeft(y));

                        // right y axis
                        svg.append("g")
                            .attr("transform", `translate(${yMax},0)`)
                            .call(d3.axisRight(y));

                        // Add the line
                        svg.append("path")
                            .datum(arr1)
                            .attr("fill", "none")
                            .attr("stroke", "steelblue")
                            .attr("stroke-width", 1.5)
                            .attr("d", d3.line()
                            .x(function(d) { 
                                return x(d.x) 
                            })
                            .y(function(d) { 
                                return y(d.y) 
                            })
                        );

                        svg.append("path")
                            .datum(arr2)
                            .attr("fill", "none")
                            .attr("stroke", "green")
                            .attr("stroke-width", 1.5)
                            .attr("d", d3.line()
                            .x(function(d) { 
                                return x(d.x) 
                            })
                            .y(function(d) { 
                                return y(d.y) 
                            })
                        );

                    });

                }
                else{
                        console.log("Only csv file is accepted as input");
                    }
                
            }

            mathTrig(randPointsCSV, "cos", "sin");

            // Create Random Points
            // const numPoints = 100;

            // const dataSine = [];
            // for (let i = 0; i < numPoints; i++) { 
            //     console.log(i/100);
            //     dataSine.push( {
            //         x: i/100, y: Math.sin( 6.2 * i/100 ) 
            //     } ); 
            // }

            // mathTrig(dataSine);
            
            // const dataCosine = [];
            // for (let i = 0; i < numPoints; i++) { 
            //     dataCosine.push( {
            //         x: i/100, y: Math.cos( 8.5 * i/100)
            //     } ); 
            // }
            
            // mathTrig(dataCosine);

            // const dataTan = [];
            // for (let i = 0; i < numPoints; i++) { 
            //     dataTan.push( {
            //         x: i/100, y: Math.tan(9.0 * i/100)
            //     } ); 
            // }
            
            // mathTrig(dataTan);

            // const dataCot = [];
            // for (let i = 0; i < numPoints; i++) { 
            //     tan = Math.tan(5.0 * i/100)
            //     dataCot.push( {
            //         x: i/100, y: 1/tan
            //     } ); 
            // }
            
            // mathTrig(dataCot);

        </script>

    </body>
</html>